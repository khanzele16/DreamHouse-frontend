"use client";

import Link from "next/link";
import { useEffect, useState } from "react";
import { useRouter } from "next/navigation";
import { IRegisterForm } from "@/app/types";
import { SubmitHandler, useForm } from "react-hook-form";
import { useAppDispatch, useAppSelector } from "@/app/shared/redux/hooks";
import {
  register as registerUser,
  clearError,
} from "@/app/shared/redux/slices/auth";

export default function Register() {
  const dispatch = useAppDispatch();
  const router = useRouter();
  const { loading, error, isAuth } = useAppSelector((state) => state.auth);
  const [successMessage, setSuccessMessage] = useState<string | null>(null);

  const {
    register,
    handleSubmit,
    formState: { errors },
    watch,
  } = useForm<IRegisterForm>();

  const password = watch("password");

  const onSubmit: SubmitHandler<IRegisterForm> = async (data) => {
    dispatch(clearError());
    setSuccessMessage(null);

    const result = await dispatch(
      registerUser({
        name: data.name,
        phone_number: data.phone_number,
        password: data.password,
      })
    );

    if (registerUser.fulfilled.match(result) && result.payload.ok) {
      setSuccessMessage(
        "Регистрация успешна! Перенаправляем на страницу входа..."
      );
      setTimeout(() => {
        router.push("/login");
      }, 2000);
    }
  };

  useEffect(() => {
    return () => {
      dispatch(clearError());
    };
  }, [dispatch]);

  useEffect(() => {
    if (isAuth) {
      router.push("/");
    }
  }, [isAuth, router]);

  return (
    <div className="flex py-10 lg:p-0 lg:min-h-screen bg-[#FFF] relative font-[family-name:var(--font-stetica-bold)]">
      <div className="flex flex-1 justify-center lg:content-center lg:justify-start items-center bg-white px-6 sm:px-12 md:px-16 lg:pl-18 lg:pr-20">
        <div className="max-w-4xl w-full lg:w-[800px]">
          <div className="flex lg:justify-start justify-center lg:content-start content-center items-center max-[1150px]:gap-x-[4px] gap-x-[10px] mb-4">
            <svg
              width="41"
              height="66"
              className="w-[41px] h-[66px]"
              viewBox="0 0 41 66"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13.7531 6.53301C10.847 9.58028 10.2942 10.1963 10.2468 10.4427C10.2231 10.5988 10.2073 15.1984 10.231 20.6523L10.2626 30.5744L5.50066 25.6216C2.27866 22.254 0.699249 20.6605 0.580793 20.6605H0.422852L0.438646 32.3897L0.462337 44.1188L6.06925 49.9258C9.1491 53.121 11.7235 55.7329 11.7946 55.7329C11.9052 55.7329 16.5565 50.9608 16.7066 50.6897C16.7461 50.6158 16.7461 50.5008 16.6987 50.4187C16.6513 50.3365 14.5902 48.1681 12.1105 45.589L7.60917 40.9154V36.554L7.61707 32.2007L8.95167 33.6217L10.2942 35.0345V37.4164V39.7902L13.7768 43.4124C16.0432 45.7779 17.291 47.0264 17.3699 46.9936C17.4647 46.9525 17.4805 43.9463 17.4647 24.9563C17.441 5.39952 17.4252 2.96006 17.3226 2.93542C17.2515 2.92721 15.7747 4.41388 13.7531 6.53301Z"
                fill="var(--accent-primary)"
              />
              <path
                d="M20.0861 27.059V51.1251L16.8878 54.4434C15.1267 56.2668 13.6895 57.811 13.6895 57.8767C13.6895 58.0492 18.5619 63.0595 18.7041 63.0267C18.8146 63.0021 21.547 60.2012 25.4403 56.1272L27.2724 54.2052V44.6116V35.0181L28.5438 33.7121C29.2388 32.9975 29.831 32.4061 29.8626 32.4061C29.8942 32.4061 29.9179 36.6444 29.9179 41.8272C29.9179 48.6938 29.9416 51.2483 30.0048 51.2729C30.1074 51.3058 36.9937 44.1517 37.0805 43.9217C37.1042 43.8478 37.1358 38.5828 37.1358 32.2172C37.1437 21.178 37.1358 20.6606 37.0016 20.6606C36.9226 20.6606 34.822 22.7797 32.0659 25.6463L27.2645 30.6402L27.2803 20.4224L27.2882 10.2046L26.6248 9.51462C26.2695 9.1368 24.8401 7.65833 23.4502 6.22094C22.0682 4.79176 20.8126 3.47757 20.6547 3.30509C20.5046 3.14081 20.3151 3.00118 20.2282 3.00118C20.094 3.00118 20.0861 3.75684 20.0861 27.059Z"
                fill="var(--accent-primary)"
              />
            </svg>
            <svg
              className="w-[95px] h-[43px]"
              viewBox="0 0 95 43"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M30.6955 24.057C29.0588 24.3135 26.9649 25.3108 25.7706 26.4222C24.5614 27.5477 23.7505 29.0438 23.2639 30.9957C22.733 33.1614 23.6325 36.3102 25.284 38.0912C27.4515 40.4278 30.489 41.3967 33.9689 40.8695C37.2866 40.3851 39.8818 38.2621 41.0319 35.0849C41.3416 34.2015 41.4595 32.0643 41.2531 30.9102C40.7075 27.9039 38.422 25.4106 35.296 24.3847C34.3818 24.0855 31.7424 23.9003 30.6955 24.057ZM34.0279 28.7731C34.8537 29.1292 35.8121 30.0126 36.166 30.7393C36.3724 31.1524 36.4461 31.6369 36.4461 32.5202C36.4461 33.5746 36.4019 33.8168 36.0333 34.4437C35.5614 35.2701 34.426 36.1392 33.5118 36.3814C32.6419 36.6094 30.9609 36.4669 30.2531 36.1107C28.926 35.4553 27.9676 33.9165 27.9676 32.4632C27.9676 31.7794 28.3067 30.7678 28.7344 30.1693C29.1472 29.5709 30.1941 28.83 30.9462 28.5878C31.7719 28.3314 33.1874 28.4169 34.0279 28.7731Z"
                fill="#121212"
              />
              <path
                d="M65.1106 24.1711C62.7514 24.7838 61.1441 26.9209 61.1441 29.4143C61.1441 30.6396 61.616 31.8222 62.3975 32.5773C62.9431 33.1045 63.9457 33.6032 65.4055 34.0876C67.6321 34.8143 68.1776 35.2987 67.7795 36.239C67.2487 37.4786 65.3613 37.3219 62.8841 35.8401C62.3532 35.5124 62.191 35.6691 61.3653 37.2364C60.4364 39.0031 60.4658 39.1741 61.8077 39.9292C63.3707 40.7841 65.6562 41.183 67.6468 40.9266C69.1656 40.7271 70.183 40.2997 71.0677 39.4733C72.3063 38.3335 72.8666 36.9229 72.7634 35.1277C72.6455 32.6628 71.4069 31.4233 67.9859 30.3262C66.4229 29.8275 66.0543 29.4998 66.1428 28.6734C66.246 27.904 67.8827 27.7046 69.2246 28.3172C70.4779 28.8729 70.4926 28.8729 71.3479 27.1631C71.8934 26.0803 72.0704 25.5959 71.9672 25.4534C71.8492 25.2539 71.3184 24.9547 70.4337 24.5558C69.2393 24.0286 66.4377 23.8291 65.1106 24.1711Z"
                fill="#121212"
              />
              <path
                d="M6.68021 3.03661C6.53276 3.0936 6.48853 4.83184 6.48853 11.0582V18.9942L7.04885 19.094C7.34375 19.1367 8.98048 19.1794 10.6762 19.1794C14.2593 19.1794 15.1588 19.0227 16.6775 18.1536C20.2164 16.1446 21.7204 12.5114 20.6587 8.52204C20.4081 7.58168 19.022 5.64397 18.0783 4.88883C17.0314 4.06246 15.3652 3.26458 14.3183 3.07936C13.522 2.93688 7.01936 2.89413 6.68021 3.03661ZM13.7874 7.26823C14.5542 7.61018 15.4242 8.4223 15.8813 9.23443C16.2941 9.96107 16.2499 12.0555 15.8075 12.9246C15.0998 14.3209 13.8759 15.0618 12.2392 15.1046L11.2807 15.1188L11.2365 11.0154L11.207 6.92628H12.1212C12.7848 6.92628 13.2566 7.02601 13.7874 7.26823Z"
                fill="#121212"
              />
              <path
                d="M23.5484 3.1078C23.3272 3.27877 23.3125 4.03391 23.283 11.0296C23.2682 16.8 23.2977 18.8089 23.4304 18.9372C23.6369 19.1366 26.35 19.2364 27.279 19.0797L27.9425 18.9514L28.0162 16.3298L28.09 13.694L28.5766 14.4491C28.842 14.8765 29.1221 15.2897 29.2106 15.3752C29.2843 15.4749 29.7857 16.2443 30.3165 17.1135C30.8473 17.9683 31.3782 18.7805 31.4961 18.8944C31.6731 19.0654 32.1891 19.1082 34.283 19.1082C37.2763 19.1082 37.4237 19.0512 36.7897 18.2248C36.5538 17.9256 36.3178 17.6549 36.2736 17.6121C36.0672 17.4412 33.0001 13.4233 32.8084 13.0528C32.602 12.6539 32.602 12.6396 33.1476 12.3262C33.8996 11.8845 34.7696 11.0724 35.0202 10.5594C35.6985 9.19164 35.8165 8.1088 35.4479 6.74101C35.1529 5.64392 34.9613 5.28772 34.2535 4.56108C32.8969 3.16479 31.9385 2.93682 27.2642 2.93682C24.7133 2.93682 23.7254 2.97957 23.5484 3.1078ZM29.7414 6.798C30.5377 7.08296 30.8178 7.4819 30.8178 8.27978C30.8178 8.90668 30.7589 9.06341 30.3755 9.41961C30.0068 9.76155 29.8299 9.81855 29.0189 9.83279L28.09 9.84704L28.0457 8.23703L28.0015 6.64127H28.665C29.0337 6.64127 29.5055 6.71251 29.7414 6.798Z"
                fill="#121212"
              />
              <path
                d="M38.7217 3.16484C38.5153 3.36431 38.4858 4.26193 38.4858 11.0297C38.4858 15.6032 38.5448 18.7663 38.6332 18.8945C38.7512 19.0797 39.4 19.1224 42.644 19.1509C44.782 19.1794 46.8906 19.1509 47.333 19.0797L48.144 18.9657L48.1882 17.2702C48.2177 16.1874 48.1734 15.5177 48.0702 15.418C47.967 15.3183 46.9643 15.2328 45.593 15.19L43.278 15.1188L43.2338 14.2639C43.219 13.7937 43.2633 13.3236 43.337 13.2096C43.4402 13.0671 43.971 12.9959 45.5193 12.9531C46.6399 12.9246 47.6426 12.8676 47.7458 12.8391C47.9965 12.7537 47.9965 9.47665 47.7458 9.23443C47.6279 9.12045 46.9201 9.06346 45.5488 9.06346C43.9858 9.06346 43.4992 9.02071 43.3665 8.86399C43.2633 8.73576 43.2043 8.32257 43.2338 7.82389L43.278 6.99752L45.5635 6.92628C46.8169 6.88354 47.9375 6.79805 48.0407 6.74106C48.1587 6.65557 48.2177 6.1284 48.2177 4.93158C48.2177 3.39281 48.1882 3.22184 47.9375 3.07936C47.7606 2.99387 46.0206 2.93688 43.2928 2.93688C39.5475 2.93688 38.9134 2.96537 38.7217 3.16484Z"
                fill="#121212"
              />
              <path
                d="M55.5605 3.0792C55.2804 3.25018 54.8527 4.00531 54.8527 4.36151C54.8527 4.48974 54.7938 4.64647 54.72 4.71771C54.661 4.8032 54.4104 5.37311 54.1892 6.00002C53.7763 7.15409 52.3018 10.887 52.0659 11.4142C51.9922 11.5709 51.8152 12.0126 51.6825 12.4116C51.535 12.7962 51.3286 13.3377 51.2107 13.5799C51.1074 13.8363 50.7535 14.734 50.4439 15.5746C50.1195 16.4295 49.7361 17.3983 49.5592 17.7545C49.0578 18.8088 49.1168 18.9798 50.031 19.0938C51.1959 19.222 53.4519 19.1935 53.8795 19.0368C54.1155 18.9513 54.2924 18.7519 54.3514 18.5096C54.5283 17.669 54.9117 16.5434 55.0297 16.4579C55.1329 16.3867 60.2643 16.3867 60.6476 16.4579C60.7066 16.4579 60.7509 16.6004 60.7509 16.7429C60.7509 16.8996 60.8098 17.0564 60.8688 17.0991C60.9425 17.1418 61.0753 17.5265 61.1785 17.954C61.2817 18.3814 61.4586 18.8088 61.5913 18.9228C61.8862 19.1508 64.9533 19.2648 65.838 19.0653C66.5015 18.9228 66.5458 18.7234 66.1181 17.7688C65.8085 17.0849 65.7348 16.8996 65.1597 15.4036C64.8943 14.6912 64.6289 14.0643 64.5551 13.9788C64.4962 13.9076 64.4372 13.7081 64.4372 13.5371C64.4372 13.3519 64.3782 13.1667 64.2897 13.1239C64.216 13.0812 64.1423 12.9387 64.1423 12.8247C64.1423 12.6965 63.9801 12.2548 63.7736 11.8274C63.5672 11.4 63.405 10.9868 63.405 10.9155C63.405 10.8443 63.3018 10.5451 63.1691 10.2459C63.0364 9.94668 62.8742 9.57623 62.8152 9.4195C62.594 8.84959 61.7535 6.69816 61.6356 6.42745C61.5618 6.27073 61.2669 5.48709 60.9573 4.68921C60.5297 3.60638 60.3085 3.20743 60.0431 3.09345C59.6155 2.89398 55.8997 2.89398 55.5605 3.0792ZM58.5538 10.4169C58.7013 10.8015 58.8782 11.343 58.9224 11.5994C58.9814 11.8559 59.0846 12.0981 59.1436 12.1408C59.2173 12.1836 59.2763 12.3403 59.2763 12.497C59.2763 12.7393 59.1584 12.7678 57.8903 12.7678C57.1235 12.7678 56.46 12.725 56.4157 12.6538C56.3568 12.5683 56.5337 11.9984 56.9761 10.8443C57.0498 10.6876 57.1972 10.3029 57.3152 9.98942C57.4332 9.67597 57.5954 9.24853 57.6986 9.03481L57.8755 8.65012L58.0672 9.17729C58.1852 9.46225 58.3916 10.0179 58.5538 10.4169Z"
                fill="#121212"
              />
              <path
                d="M70.2179 3.03643C69.9525 3.13616 69.7608 3.64909 69.5986 4.77467C69.4364 5.82901 69.0678 8.12292 68.8614 9.41947C68.7876 9.88965 68.6107 10.8443 68.478 11.5567C68.36 12.2548 68.1978 13.2237 68.1241 13.6938C67.9029 15.2326 67.5638 17.2415 67.3868 18.0109C67.2689 18.5381 67.2541 18.8231 67.3574 18.9228C67.5933 19.1508 71.6482 19.1508 71.7957 18.9228C71.8547 18.8231 71.9874 18.0537 72.0906 17.2131C72.1938 16.3724 72.4002 14.9476 72.5477 14.05C72.6951 13.1524 72.8721 12.0696 72.9163 11.6564C73.0195 10.9582 73.285 10.602 73.285 11.1862C73.285 11.3429 73.3439 11.4997 73.4177 11.5424C73.4914 11.5851 73.5946 11.7989 73.6388 11.9983C73.6978 12.1978 73.8748 12.6395 74.0222 12.9672C74.1844 13.2806 74.4056 13.8648 74.5383 14.2637C74.671 14.6484 74.8627 15.1614 74.9659 15.4036C75.1724 15.8595 75.5705 16.8711 76.0423 18.1819C76.3077 18.8658 76.3962 18.9798 76.8386 19.0653C77.3989 19.1935 78.2836 19.0938 78.549 18.8658C78.6375 18.7946 78.7702 18.5239 78.8292 18.2816C78.8734 18.0252 78.9619 17.7545 79.0209 17.6832C79.0799 17.5977 79.2126 17.2843 79.3158 16.9708C79.419 16.6574 79.6254 16.1445 79.7729 15.831C79.9203 15.5176 80.4512 14.2495 80.9673 13.0099C81.4686 11.7846 81.9404 10.8158 81.9847 10.8728C82.1764 11.1007 82.6925 14.3777 83.1053 18.0822C83.1938 18.8088 83.2528 18.9085 83.5919 19.0083C84.1965 19.165 87.5584 19.1223 87.7353 18.9513C87.8828 18.8088 87.8238 18.3101 87.2782 15.3323C87.2045 14.9049 87.0423 13.9645 86.9244 13.2664C86.8064 12.554 86.6442 11.6279 86.5557 11.2005C86.4672 10.773 86.305 9.77567 86.1723 8.99203C86.0396 8.2084 85.8774 7.23955 85.8037 6.85485C85.7447 6.45591 85.5973 5.50131 85.4793 4.73192C85.3171 3.69183 85.1844 3.26439 84.9927 3.12191C84.801 2.99368 84.1522 2.93669 82.7809 2.93669C80.6576 2.93669 80.4512 3.00793 80.2742 3.76307C80.2152 3.97679 80.1415 4.20475 80.0973 4.27599C79.9941 4.46121 79.0504 7.04008 78.8734 7.63849C78.7997 7.9092 78.667 8.26539 78.5933 8.42212C78.5343 8.57885 78.3573 8.99203 78.2246 9.34823C77.856 10.3456 77.6496 10.773 77.5463 10.773C77.5021 10.773 77.1777 10.0464 76.8386 9.16301C76.4847 8.29389 76.1603 7.43902 76.0866 7.28229C76.0276 7.12556 75.8654 6.66963 75.7179 6.28494C75.5852 5.886 75.423 5.44432 75.3493 5.28759C75.2756 5.13086 75.1134 4.64644 74.9659 4.219C74.5531 2.97944 74.4498 2.93669 72.2675 2.95094C71.2501 2.95094 70.3212 2.99368 70.2179 3.03643Z"
                fill="#121212"
              />
              <path
                d="M6.292 24.5415C5.96761 24.7409 5.87913 39.8722 6.20353 40.2996C6.39522 40.5418 6.60165 40.5703 8.41532 40.5703C9.81613 40.5703 10.4649 40.5133 10.5829 40.3993C10.7303 40.2568 10.7746 39.4305 10.7746 37.3075C10.7893 35.4268 10.8483 34.3297 10.9515 34.23C11.0547 34.1303 11.9837 34.0875 13.6794 34.116L16.2451 34.1588V37.1793C16.2451 39.459 16.2893 40.2426 16.4368 40.3851C16.6727 40.613 19.6955 40.727 20.4327 40.5418L20.9341 40.4136L20.9046 32.5203C20.8898 26.4934 20.8309 24.5984 20.6981 24.513C20.5949 24.456 19.6217 24.4132 18.5306 24.4275C16.5842 24.4702 16.54 24.4702 16.363 24.8264C16.2303 25.0686 16.1713 25.9947 16.1713 27.847V30.5256H13.5909C11.2022 30.5256 11.0105 30.5113 10.863 30.2548C10.7746 30.0839 10.7156 28.887 10.7156 27.334C10.7156 24.8692 10.7008 24.6839 10.4354 24.5415C10.0668 24.3562 6.58691 24.3562 6.292 24.5415Z"
                fill="#121212"
              />
              <path
                d="M43.9073 24.5984C43.6713 24.8691 43.7745 34.8853 44.0252 36.1961C44.3644 38.0341 45.4997 39.5729 47.0333 40.2568C48.2129 40.7839 49.2745 40.9834 50.9702 40.9834C53.3442 40.9834 54.7155 40.613 56.0131 39.6156C56.6177 39.1597 57.6499 37.6636 57.8121 37.0082C57.871 36.766 57.9743 36.3243 58.048 36.0109C58.1217 35.6974 58.1807 32.9903 58.1954 30.0125V24.5699L57.871 24.4844C57.2222 24.3276 54.1405 24.3846 53.8751 24.5699C53.6539 24.7408 53.6244 25.2965 53.5949 29.9556C53.5507 34.7286 53.5212 35.1988 53.2705 35.6974C52.8429 36.5381 52.1204 36.937 51.044 36.937C49.9528 36.937 49.245 36.6093 48.8322 35.9397C48.552 35.4695 48.5373 35.1703 48.493 30.098C48.4635 26.6358 48.3898 24.6981 48.2866 24.5841C48.0507 24.2991 44.1432 24.3276 43.9073 24.5984Z"
                fill="#121212"
              />
              <path
                d="M75.4179 24.5556C75.1672 24.6838 75.1525 25.2252 75.1525 32.5201C75.1525 38.6182 75.1967 40.3707 75.3442 40.4562C75.6243 40.6414 83.8522 40.6842 84.3388 40.5132L84.7517 40.3565L84.7074 38.547L84.6632 36.7232L82.304 36.652L79.9447 36.5808L79.9005 35.5692L79.8562 34.5433L81.9796 34.5006C83.4836 34.4578 84.1766 34.3866 84.3536 34.2441C84.5452 34.0874 84.5895 33.7739 84.5895 32.5629C84.5895 31.7507 84.5158 30.9529 84.442 30.7961C84.2946 30.5539 84.1176 30.5254 82.4072 30.5254C79.7825 30.5254 79.871 30.5539 79.871 29.3713V28.3882H82.068C83.2771 28.3882 84.3683 28.3455 84.501 28.3028C84.8549 28.1745 84.8549 24.6126 84.501 24.4843C84.0881 24.3276 75.6833 24.3988 75.4179 24.5556Z"
                fill="#121212"
              />
            </svg>
          </div>
          <h4 className="text-[30px] text-[#3366CC] mb-6">Регистрация</h4>

          {error && (
            <div className="mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg">
              {typeof error === "string" ? error : "Произошла ошибка"}
            </div>
          )}

          {successMessage && (
            <div className="mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg">
              {successMessage}
            </div>
          )}

          <form
            onSubmit={handleSubmit(onSubmit)}
            className="grid grid-cols-1 lg:grid-cols-2 gap-6"
          >
            <div className="space-y-5">
              <label className="block">
                <span className="text-[20px] text-gray-700">Имя</span>
                <input
                  {...register("name", {
                    maxLength: { value: 20, message: "Максимум 20 символов" },
                    required: "Это поле является обязательным",
                  })}
                  placeholder="Введите ваше имя"
                  className="font-[family-name:var(--font-stetica-regular)] mt-2 block w-full rounded-lg border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#3366CC]"
                />
                {errors.name && (
                  <span className="text-red-500 text-sm">
                    {errors.name.message}
                  </span>
                )}
              </label>
              <label className="block">
                <span className="text-[20px] text-gray-700">
                  Номер телефона
                </span>
                <input
                  {...register("phone_number", {
                    required: "Это поле является обязательным",
                    pattern: {
                      value: /^[+]?[\d\s\-\(\)]+$/,
                      message: "Введите корректный номер телефона",
                    },
                  })}
                  placeholder="Введите номер телефона"
                  className="font-[family-name:var(--font-stetica-regular)] mt-2 block w-full rounded-lg border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#3366CC]"
                  inputMode="tel"
                  autoComplete="tel"
                />
                {errors.phone_number && (
                  <span className="text-red-500 text-sm">
                    {errors.phone_number.message}
                  </span>
                )}
              </label>
            </div>
            <div className="space-y-5">
              <label className="block">
                <span className="text-[20px] text-gray-700">Пароль</span>
                <input
                  {...register("password", {
                    required: "Это поле является обязательным",
                    minLength: {
                      value: 6,
                      message: "Пароль должен содержать минимум 6 символов",
                    },
                  })}
                  placeholder="Введите пароль"
                  className="font-[family-name:var(--font-stetica-regular)] mt-2 block w-full rounded-lg border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#3366CC]"
                  type="password"
                  autoComplete="new-password"
                />
                {errors.password && (
                  <span className="text-red-500 text-sm">
                    {errors.password.message}
                  </span>
                )}
              </label>
              <label className="block">
                <span className="text-[20px] text-gray-700">
                  Повторите пароль
                </span>
                <input
                  {...register("confirmPassword", {
                    required: "Это поле является обязательным",
                    validate: (value) =>
                      value === password || "Пароли не совпадают",
                  })}
                  placeholder="Повторите пароль"
                  className="font-[family-name:var(--font-stetica-regular)] mt-2 block w-full rounded-lg border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#3366CC]"
                  type="password"
                  autoComplete="new-password"
                />
                {errors.confirmPassword && (
                  <span className="text-red-500 text-sm">
                    {errors.confirmPassword.message}
                  </span>
                )}
              </label>
            </div>
            <div className="flex flex-col mt-6 lg:col-span-2 gap-y-3">
              <button
                type="submit"
                disabled={loading}
                className="w-full text-[20px] rounded-full py-3 bg-[#3366CC] text-white hover:opacity-95 transition cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"
              >
                {loading ? "Регистрация..." : "Зарегистрироваться"}
              </button>
              <p className="text-center text-[#3366CC] cursor-pointer font-[family-name:var(--font-stetica-regular)]">
                <Link href="/login">Уже есть аккаунт? Войти</Link>
              </p>
            </div>
          </form>
        </div>
      </div>

      <svg
        viewBox="0 0 339 707"
        fill="none"
        aria-hidden
        className="hidden lg:block absolute top-0 right-0 h-full w-[20%] xl:w-[30%] 2xl:w-[50%] transition-all duration-300 pointer-events-none z-1"
        preserveAspectRatio="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M347.5 0H0L222.296 707H347.5V0Z" fill="#3366CC" />
        <path d="M62.6109 201L0 0H116L62.6109 201Z" fill="#FFC860" />
      </svg>
    </div>
  );
}
